<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TensorFlow.js Example</title>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
</head>
<body>
  <h2>ü§ñ TensorFlow.js Linear Regression Example</h2>
  <pre id="output"></pre>

  <script>
    const output = document.getElementById('output');

    async function run() {
      // 1Ô∏è‚É£ Define a simple model (y = a*x + b)
      const model = tf.sequential();
      model.add(tf.layers.dense({ units: 1, inputShape: [1] }));

      // 2Ô∏è‚É£ Compile the model with optimizer and loss function
      model.compile({
        optimizer: 'sgd',  // Stochastic Gradient Descent
        loss: 'meanSquaredError'
      });

      // 3Ô∏è‚É£ Training data (x and y)
      const xs = tf.tensor2d([1, 2, 3, 4], [4, 1]);
      const ys = tf.tensor2d([1, 3, 5, 7], [4, 1]); // y = 2x - 1

      // 4Ô∏è‚É£ Train the model
      output.innerText += 'Training model...\n';
      await model.fit(xs, ys, { epochs: 200 });
      output.innerText += 'Training complete!\n';

      // 5Ô∏è‚É£ Use the model to make a prediction
      const prediction = model.predict(tf.tensor2d([5], [1, 1]));
      const result = prediction.dataSync()[0];
      output.innerText += `Prediction for x=5 ‚Üí y=${result.toFixed(2)}\n`;
    }

    run();
  </script>
</body>
</html>
